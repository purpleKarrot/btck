# Copyright (c) 2025-present The Bitcoin Core developers
# Distributed under the MIT software license, see the accompanying
# file COPYING or http://www.opensource.org/licenses/mit-license.php.

import btck

def test_transaction():
    data = (
        b"\x02\x00\x00\x00\x01\x3f\x7c\xeb\xd6\x5c\x27\x43\x1a\x90\xbb\xa7\xf7"
        b"\x96\x91\x4f\xe8\xcc\x2d\xdf\xc3\xf2\xcb\xd6\xf7\xe5\xf2\xfc\x85\x45"
        b"\x34\xda\x95\x00\x00\x00\x00\x6b\x48\x30\x45\x02\x21\x00\xde\x1a\xc3"
        b"\xbc\xdf\xb0\x33\x22\x07\xc4\xa9\x1f\x38\x32\xbd\x2c\x29\x15\x84\x01"
        b"\x65\xf8\x76\xab\x47\xc5\xf8\x99\x6b\x97\x1c\x36\x02\x20\x1c\x6c\x05"
        b"\x3d\x75\x0f\xad\xde\x59\x9e\x6f\x5c\x4e\x19\x63\xdf\x0f\x01\xfc\x0d"
        b"\x97\x81\x5e\x81\x57\xe3\xd5\x9f\xe0\x9c\xa3\x0d\x01\x21\x03\x69\x9b"
        b"\x46\x4d\x1d\x8b\xc9\xe4\x7d\x4f\xb1\xcd\xaa\x89\xa1\xc5\x78\x3d\x68"
        b"\x36\x3c\x4d\xbc\x4b\x52\x4e\xd3\xd8\x57\x14\x86\x17\xfe\xff\xff\xff"
        b"\x02\x83\x6d\x3c\x01\x00\x00\x00\x00\x19\x76\xa9\x14\xfc\x25\xd6\xd5"
        b"\xc9\x40\x03\xbf\x5b\x0c\x7b\x64\x0a\x24\x8e\x2c\x63\x7f\xcf\xb0\x88"
        b"\xac\x7a\xda\x82\x02\x00\x00\x00\x00\x19\x76\xa9\x14\xfb\xed\x3d\x9b"
        b"\x11\x18\x32\x09\xa5\x79\x99\xd5\x4d\x59\xf6\x7c\x01\x9e\x75\x6c\x88"
        b"\xac\x6a\xcb\x07\x00"
    )

    tx = btck.Transaction(data)

    assert len(tx.outputs) == 2
    assert tx.outputs[0].amount == 20737411
    assert tx.outputs[1].amount == 42130042

    for output in tx.outputs:
        print(output.amount)
